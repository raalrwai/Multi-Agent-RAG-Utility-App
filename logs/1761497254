[]  Hello
[sentiment check]
[sentiment]  {"sentiment": "neutral", "intent": "greeting"}

[Sentiment Agent] Sentiment: neutral, Intent: greeting
[31mâ”€â”€[0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m[31mâ”€â”€[0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\site-packages\streamlit\runtime\ [31m [0m
[31m [0m scriptrunner\exec_code.py:128 in exec_func_with_error_handling                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\site-packages\streamlit\runtime\ [31m [0m
[31m [0m scriptrunner\script_runner.py:669 in code_to_exec                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\frontend.py:83  [31m [0m
[31m [0m in <module>                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m80 [0m                                                                                [31m [0m
[31m [0m   [2m81 [0m                                                                                [31m [0m
[31m [0m   [2m82 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                      [31m [0m
[31m [0m [31mâ± [0m83 [2mâ”‚   [0masyncio.run(main())                                                         [31m [0m
[31m [0m   [2m84 [0m                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py:44 in run     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m41 [0m[2mâ”‚   â”‚   [0mevents.set_event_loop(loop)                                             [31m [0m
[31m [0m   [2m42 [0m[2mâ”‚   â”‚   [0m[94mif[0m debug [95mis[0m [95mnot[0m [94mNone[0m:                                                   [31m [0m
[31m [0m   [2m43 [0m[2mâ”‚   â”‚   â”‚   [0mloop.set_debug(debug)                                               [31m [0m
[31m [0m [31mâ± [0m44 [2mâ”‚   â”‚   [0m[94mreturn[0m loop.run_until_complete(main)                                    [31m [0m
[31m [0m   [2m45 [0m[2mâ”‚   [0m[94mfinally[0m:                                                                    [31m [0m
[31m [0m   [2m46 [0m[2mâ”‚   â”‚   [0m[94mtry[0m:                                                                    [31m [0m
[31m [0m   [2m47 [0m[2mâ”‚   â”‚   â”‚   [0m_cancel_all_tasks(loop)                                             [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py:641 in    [31m [0m
[31m [0m run_until_complete                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 638 [0m[2mâ”‚   â”‚   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 639 [0m[2mâ”‚   â”‚   â”‚   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 640 [0m[2mâ”‚   â”‚   [0m                                                                      [31m [0m
[31m [0m [31mâ± [0m 641 [2mâ”‚   â”‚   [0m[94mreturn[0m future.result()                                                [31m [0m
[31m [0m   [2m 642 [0m[2mâ”‚   [0m                                                                          [31m [0m
[31m [0m   [2m 643 [0m[2mâ”‚   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 644 [0m[2;90mâ”‚   â”‚   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\frontend.py:66  [31m [0m
[31m [0m in main                                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m63 [0m[2mâ”‚   â”‚   [0m[96mprint[0m([33mf[0m[33m'[0m[33m[[0m[33m{[0muser_name[33m}[0m[33m] [0m[33m'[0m, user_query)                                    [31m [0m
[31m [0m   [2m64 [0m[2mâ”‚   â”‚   [0m                                                                        [31m [0m
[31m [0m   [2m65 [0m[2mâ”‚   â”‚   [0m[94mwith[0m st.spinner([33m"[0m[33mThinking...[0m[33m"[0m):                                         [31m [0m
[31m [0m [31mâ± [0m66 [2mâ”‚   â”‚   â”‚   [0mresult =[94mawait[0m manager.handle_query(                                 [31m [0m
[31m [0m   [2m67 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0muser_query=user_query,                                          [31m [0m
[31m [0m   [2m68 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0muser_name=user_name,                                            [31m [0m
[31m [0m   [2m69 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mhas_bill=has_bill                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\our_agents\mana [31m [0m
[31m [0m ger_agent.py:132 in handle_query                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m129 [0m[2mâ”‚   â”‚   â”‚   [0m[94melse[0m:                                                              [31m [0m
[31m [0m   [2m130 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mexplanation_prompt = [33mf[0m[33m"[0m[33m{[0muser_query[33m}[0m[33m\n[0m[33m\n[0m[33mSentiment noted: [0m[33m{[0msenti [31m [0m
[31m [0m   [2m131 [0m[2mâ”‚   â”‚   â”‚   [0m                                                                   [31m [0m
[31m [0m [31mâ± [0m132 [2mâ”‚   â”‚   â”‚   [0mresult[[33m"[0m[33mresponse[0m[33m"[0m] = asyncio.run(                                  [31m [0m
[31m [0m   [2m133 [0m[2mâ”‚   â”‚   â”‚   â”‚   [0mexplanation_agent.get_explanation(user_name, explanation_promp [31m [0m
[31m [0m   [2m134 [0m[2mâ”‚   â”‚   â”‚   [0m)                                                                  [31m [0m
[31m [0m   [2m135 [0m[2mâ”‚   â”‚   â”‚   [0mresult[[33m"[0m[33msource[0m[33m"[0m] = [33m"[0m[33mexplanation + sentiment[0m[33m"[0m                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py:33 in run     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m30 [0m[2;33mâ”‚   â”‚   [0m[33masyncio.run(main())[0m                                                     [31m [0m
[31m [0m   [2m31 [0m[2;33mâ”‚   [0m[33m"""[0m                                                                         [31m [0m
[31m [0m   [2m32 [0m[2mâ”‚   [0m[94mif[0m events._get_running_loop() [95mis[0m [95mnot[0m [94mNone[0m:                                  [31m [0m
[31m [0m [31mâ± [0m33 [2mâ”‚   â”‚   [0m[94mraise[0m [96mRuntimeError[0m(                                                     [31m [0m
[31m [0m   [2m34 [0m[2mâ”‚   â”‚   â”‚   [0m[33m"[0m[33masyncio.run() cannot be called from a running event loop[0m[33m"[0m)         [31m [0m
[31m [0m   [2m35 [0m[2mâ”‚   [0m                                                                            [31m [0m
[31m [0m   [2m36 [0m[2mâ”‚   [0m[94mif[0m [95mnot[0m coroutines.iscoroutine(main):                                        [31m [0m
[31mâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€[0m
[1;91mRuntimeError: [0m[1;35masyncio.run[0m[1m([0m[1m)[0m cannot be called from a running event loop
  Stopping...
