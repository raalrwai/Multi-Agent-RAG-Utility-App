[]  Hello
[sentiment check]
[sentiment]  {"sentiment": "neutral", "intent": "greeting"}

[Sentiment Agent] Sentiment: neutral, Intent: greeting
[explanation]  Hello!

I noticed that no electricity bill has been uploaded yet. To provide you with detailed explanations about your electricity usage, charges, and other components of your bill, please upload a copy of your most recent electricity bill. Once you do, I’ll be able to break down your consumption, explain all charges, and answer any specific questions you may have.

If you need help with anything else or have any general questions about electricity bills, feel free to ask!

[]  I tried your website recently and it kept crashing whenever I try to pay my bill, This sucks, I'm upset
[sentiment check]
[sentiment]  {"sentiment": "negative", "intent": "customer is frustrated with website issues during payment"}

[Sentiment Agent] Sentiment: negative, Intent: customer is frustrated with website issues during payment
[31m──[0m[31m────────────────────────[0m[31m [0m[1;31mTraceback [0m[1;2;31m(most recent call last)[0m[31m [0m[31m─────────────────────────[0m[31m──[0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\site-packages\streamlit\runtime\ [31m [0m
[31m [0m scriptrunner\exec_code.py:128 in exec_func_with_error_handling                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\site-packages\streamlit\runtime\ [31m [0m
[31m [0m scriptrunner\script_runner.py:669 in code_to_exec                                    [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\frontend.py:94  [31m [0m
[31m [0m in <module>                                                                          [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m91 [0m                                                                                [31m [0m
[31m [0m   [2m92 [0m[94mif[0m [91m__name__[0m == [33m"[0m[33m__main__[0m[33m"[0m:                                                      [31m [0m
[31m [0m   [2m93 [0m[2m│   [0mloop = get_or_create_event_loop()                                           [31m [0m
[31m [0m [31m❱ [0m94 [2m│   [0mloop.run_until_complete(main())                                             [31m [0m
[31m [0m   [2m95 [0m                                                                                [31m [0m
[31m [0m   [2m96 [0m                                                                                [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\asyncio\base_events.py:641 in    [31m [0m
[31m [0m run_until_complete                                                                   [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m 638 [0m[2m│   │   [0m[94mif[0m [95mnot[0m future.done():                                                 [31m [0m
[31m [0m   [2m 639 [0m[2m│   │   │   [0m[94mraise[0m [96mRuntimeError[0m([33m'[0m[33mEvent loop stopped before Future completed.[0m[33m'[0m) [31m [0m
[31m [0m   [2m 640 [0m[2m│   │   [0m                                                                      [31m [0m
[31m [0m [31m❱ [0m 641 [2m│   │   [0m[94mreturn[0m future.result()                                                [31m [0m
[31m [0m   [2m 642 [0m[2m│   [0m                                                                          [31m [0m
[31m [0m   [2m 643 [0m[2m│   [0m[94mdef[0m[90m [0m[92mstop[0m([96mself[0m):                                                           [31m [0m
[31m [0m   [2m 644 [0m[2;90m│   │   [0m[33m"""Stop running the event loop.[0m                                       [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\frontend.py:66  [31m [0m
[31m [0m in main                                                                              [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m63 [0m[2m│   │   [0m[96mprint[0m([33mf[0m[33m'[0m[33m[[0m[33m{[0muser_name[33m}[0m[33m] [0m[33m'[0m, user_query)                                    [31m [0m
[31m [0m   [2m64 [0m[2m│   │   [0m                                                                        [31m [0m
[31m [0m   [2m65 [0m[2m│   │   [0m[94mwith[0m st.spinner([33m"[0m[33mThinking...[0m[33m"[0m):                                         [31m [0m
[31m [0m [31m❱ [0m66 [2m│   │   │   [0mresult =[94mawait[0m manager.handle_query(                                 [31m [0m
[31m [0m   [2m67 [0m[2m│   │   │   │   [0muser_query=user_query,                                          [31m [0m
[31m [0m   [2m68 [0m[2m│   │   │   │   [0muser_name=user_name,                                            [31m [0m
[31m [0m   [2m69 [0m[2m│   │   │   │   [0mhas_bill=has_bill                                               [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\Retrieval-Augmented-Generation-for-Electricity-Utility-Bills\our_agents\mana [31m [0m
[31m [0m ger_agent.py:109 in handle_query                                                     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m106 [0m[2m│   │   [0mresult = {}                                                            [31m [0m
[31m [0m   [2m107 [0m[2m│   │   [0m                                                                       [31m [0m
[31m [0m   [2m108 [0m[2m│   │   [0m[94mif[0m is_billing_related:                                                 [31m [0m
[31m [0m [31m❱ [0m109 [2m│   │   │   [0mbill_response = asyncio.run(billing_agent.get_info(user_name, user [31m [0m
[31m [0m   [2m110 [0m[2m│   │   │   [0m                                                                   [31m [0m
[31m [0m   [2m111 [0m[2m│   │   │   [0mexplanation_prompt = (                                             [31m [0m
[31m [0m   [2m112 [0m[2m│   │   │   │   [0m[33mf[0m[33m"[0m[33mThe user asked about their bill.[0m[33m\n[0m[33m\n[0m[33m"[0m                        [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m C:\Users\Premnand                                                                    [31m [0m
[31m [0m Dareddy\AppData\Local\Programs\Python\Python310\lib\asyncio\runners.py:33 in run     [31m [0m
[31m [0m                                                                                      [31m [0m
[31m [0m   [2m30 [0m[2;33m│   │   [0m[33masyncio.run(main())[0m                                                     [31m [0m
[31m [0m   [2m31 [0m[2;33m│   [0m[33m"""[0m                                                                         [31m [0m
[31m [0m   [2m32 [0m[2m│   [0m[94mif[0m events._get_running_loop() [95mis[0m [95mnot[0m [94mNone[0m:                                  [31m [0m
[31m [0m [31m❱ [0m33 [2m│   │   [0m[94mraise[0m [96mRuntimeError[0m(                                                     [31m [0m
[31m [0m   [2m34 [0m[2m│   │   │   [0m[33m"[0m[33masyncio.run() cannot be called from a running event loop[0m[33m"[0m)         [31m [0m
[31m [0m   [2m35 [0m[2m│   [0m                                                                            [31m [0m
[31m [0m   [2m36 [0m[2m│   [0m[94mif[0m [95mnot[0m coroutines.iscoroutine(main):                                        [31m [0m
[31m────────────────────────────────────────────────────────────────────────────────────────[0m
[1;91mRuntimeError: [0m[1;35masyncio.run[0m[1m([0m[1m)[0m cannot be called from a running event loop
  Stopping...
